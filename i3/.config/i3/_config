// vim: ft=c
set $mod Mod1

font pango:ohsnap 12
floating_modifier $mod

bindsym $mod+Return exec ~/scripts/urxvt

bindsym $mod+Shift+q kill

bindsym $mod+d exec rofi -show run

bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

bindsym $mod+b split h

bindsym $mod+v split v

bindsym $mod+f fullscreen

bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

bindsym $mod+Shift+space floating toggle

bindsym $mod+space focus mode_toggle

bindsym $mod+a focus parent

set $1 1: WEB
set $2 2: IRC
set $3 3: MAIL
set $4 4
set $5 5
set $6 6
set $7 7
set $8 8
set $9 9
set $10 10

bindsym $mod+1 workspace $1
bindsym $mod+2 workspace $2
bindsym $mod+3 workspace $3
bindsym $mod+4 workspace $4
bindsym $mod+5 workspace $5
bindsym $mod+6 workspace $6
bindsym $mod+7 workspace $7
bindsym $mod+8 workspace $8
bindsym $mod+9 workspace $9
bindsym $mod+0 workspace $10

bindsym $mod+Shift+1 move container to workspace $1
bindsym $mod+Shift+2 move container to workspace $2
bindsym $mod+Shift+3 move container to workspace $3
bindsym $mod+Shift+4 move container to workspace $4
bindsym $mod+Shift+5 move container to workspace $5
bindsym $mod+Shift+6 move container to workspace $6
bindsym $mod+Shift+7 move container to workspace $7
bindsym $mod+Shift+8 move container to workspace $8
bindsym $mod+Shift+9 move container to workspace $9
bindsym $mod+Shift+0 move container to workspace $10

bindsym $mod+Shift+c exec ~/.config/i3/preproc.sh ; reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"

mode "resize" {

        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
}

mode "builtin" {
        bindsym Escape mode "default"
}


bindsym $mod+r mode "resize"
bindsym $mod+c mode "builtin"



bar {
    status_command python ~/scripts/i3statusline.py
    Modifier Mod4
    position top

#if HOST_hydrogen
    font pango:ohsnap 15
#elif HOST_phosphorus
    font pango:ohsnap 12
#endif

// It's not the *right* way to do it, but it works.

    colors {
        background #000000
        statusline #dddddd

        focused_workspace #151515 #151515 #ffffff
        active_workspace #151515 #151515 #ffffff
        inactive_workspace #151515 #151515 #888888
        urgent_workspace #151515 #151515 #ff0000
    }
}


new_window 1pixel
hide_edge_borders both

workspace_auto_back_and_forth yes
bindsym $mod+Shift+p exec --no-startup-id mpc toggle
bindsym $mod+Shift+bracketleft exec --no-startup-id mpc prev
bindsym $mod+Shift+bracketright exec --no-startup-id mpc next
bindsym $mod+Shift+minus exec --no-startup-id mpc volume -10 ; exec dunstify -a "MPD" -r 500 "                          MPD" "$(mpc volume)"
bindsym $mod+Shift+plus exec --no-startup-id mpc volume +10 ; exec dunstify -a "MPD" -r 500 "                          MPD" "$(mpc volume)"
bindsym $mod+Shift+semicolon exec xautolock -locknow
bindsym $mod+grave workspace back_and_forth

bindsym $mod+p exec rofipassmenu

bindsym XF86AudioPlay exec mpc --no-startup-id toggle
bindsym XF86AudioStop exec mpc --no-startup-id stop
bindsym XF86AudioPrev exec mpc --no-startup-id prev
bindsym XF86AudioNext exec mpc --no-startup-id next

bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-mute 0 false ; exec pactl -- set-sink-volume 0 -5%
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-mute 0 false ; exec pactl -- set-sink-volume 0 +5%

bindsym $mod+Shift+numbersign exec --no-startup-id python ~/scripts/dmenu_mpd


assign [class="^Firefox$"] → $1
assign [title="^Weechat$"] → $2
assign [title="^mutt$"] → $3
assign [title="^Deluge$"] → $8
assign [title="^Mumble"] → $8
assign [title="^Bitcoin Core - Wallet"] → $8
assign [title="^Counter-Strike Source - OpenGL"] → $9
assign [class="^Steam$"] → $10

for_window [class="^Steam$" title=" - Chat$"] floating enable
for_window [title="^mutt-mailto$"] floating enable
for_window [title="^rofi-ssh$"] floating enable
for_window [title="^feh-qrcode$"] floating enable
for_window [class = "soffice" title="^Text Import - "] floating enable

for_window [title="REQUEST_FLOATING_WINDOW"] floating enable

exec firefox
exec steam
exec deluge
exec owncloud

exec --no-startup-id urxvt -e mutt -F ~/.config/mutt/muttrc
exec --no-startup-id hsetroot -fill scripts/data/wallpaper.png
